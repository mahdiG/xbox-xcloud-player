<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>xCloud Player</title>
    <script src="./dist/xCloudPlayer.min.js"></script>
    <script src="./stream.js"></script>
  </head>
  <body bgcolor="white">
    
    <div id="consolesList" style="line-height: 200%;">
      Loading consoles...
    </div>
    
    <hr />
    
    Xbox XCloud POC - <strong>Status:</strong> <span id="streamStatus">Not connected</span>
    <strong>Video FPS:</strong> <span id="fpsCounter_video">0</span>
    <strong>Metadata FPS:</strong> <span id="fpsCounter_metadata">0</span>
    <strong>Input FPS:</strong> <span id="fpsCounter_input">0</span>
    <br />
    <br />
    
    <div class="container" style="display: flex;">
        <div id="videoHolder" style="border: 1px solid #000000; height: 720px; width: 1280px; aspect-ratio: 16/9; touch-action: none;"></div>
    
        <div id="uiButtons" style="padding-left: 20px;">
            <strong>Controls</strong> <br />
    
            Set bitrate: <small>Set before connecting</small><br />
            <button onclick="client.setVideoBitrate(2000)">2000</button> <button onclick="client.setVideoBitrate(4000)">4000</button> <button onclick="client.setVideoBitrate(10000)">10000</button> <button onclick="client.setVideoBitrate(20000)">20000</button>  <button onclick="client.setVideoBitrate(40000)">40000</button> <br />
            <br />
    
            <button onclick="client.reset()">Reset stream</button> <button onclick="client.getChannelProcessor('video').resetBuffer()">Reset Videobuffer</button>
            <br />
            
            <strong>Mic Control</strong> <br />

            <button onclick="client.getChannelProcessor('chat').startMic()">Enable mic</button>
            <!-- <button onclick="client.getChannelProcessor('chat').pauseMic()">Mute mic</button> -->
            <!-- <button onclick="client.getChannelProcessor('chat').unpauseMic()">Unmute mic</button> -->
            <button onclick="client.getChannelProcessor('chat').stopMic()">Disable mic</button>
            <br /><br />
    
            <strong>Dialog</strong>
    
            <div style="border: 1px solid #000; padding: 10px;">
                <span id="dialogTitle">No active dialog</span><br />
                <span id="dialogText"></span><br />
    
                <button id="dialogButton1"></button>
                <button id="dialogButton2"></button>
                <button id="dialogButton3"></button>
                
            </div>
    
            <br />
            
            <strong>Controls</strong>
    
            <div style="border: 1px solid #000; padding: 10px;">
                
                <div style="display: flex;">
                
                    <div class="dpad" style="text-align: center; padding: 10px;">
                        <button onclick="client.getChannelProcessor('input').pressButton(0, 'DPadUp')">Up</button> <br />
                        <button onclick="client.getChannelProcessor('input').pressButton(0, 'DPadLeft')">Left</button> <button onclick="client.getChannelProcessor('input').pressButton(0, 'DPadRight')">Right</button> <br />
                        <button onclick="client.getChannelProcessor('input').pressButton(0, 'DPadDown')">Down</button> <br />
                    </div>
    
                    <div class="misc" style="text-align: center; padding: 10px;">
                        <button onclick="client.getChannelProcessor('input').pressButton(0, 'Nexus')">Nexus</button> <br />
                        <button onclick="client.getChannelProcessor('input').pressButton(0, 'View')">View</button> <button onclick="client.getChannelProcessor('input').pressButton(0, 'Menu')">Menu</button> <br />
                    </div>
    
                    <div class="buttons" style="text-align: center; padding: 10px;">
                        <button onclick="client.getChannelProcessor('input').pressButton(0, 'Y')">Y</button> <br />
                        <button onclick="client.getChannelProcessor('input').pressButton(0, 'X')">X</button> <button onclick="client.getChannelProcessor('input').pressButton(0, 'B')">B</button> <br />
                        <button onclick="client.getChannelProcessor('input').pressButton(0, 'A')">A</button> <br />
                    </div>
    
                </div>
                
            </div>
    
        </div>
    </div>

  </body>
</html>